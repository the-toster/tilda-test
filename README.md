# Несколько простых задач, для понимания моего подхода к разработке

Оригинал задания расположен тут - https://task4developer.tilda.ws/backend-easy-task

## Отражение подхода

По обыкновению начал с затаскивания в проект основных рабочих инструментов &mdash; `phpunit` и `paslm`.  
Потом идет `README.md`, всегда помогает направить размышления и занять сторону потребителя.

## Тесты

Предпочитаю писать в underscore нотации, чтобы получать красивый вывод с флагом `--testdox`, полюбоваться можно так:

```shell
composer run test
```

## Задача 1: лесенка
Нужно вывести лесенкой числа от 1 до 100.
```
 1
 2 3
 4 5 6
 ...
 ```

Пример работы решения можно получить запустив `show_stairs.php`:

```shell
php show_stairs.php
```

Решение реализованно в виде value-object'а `App\Stairs`, так бы я сделал в своих обычных задачах.  
VO - наделяет данные смыслами из предметной области, типизирует, их удобно тестировать, и, как показывает практика,
даже у самых простых данных есть поведение &mdash; например лесенка умеет представляться в виде строки.

Интерфейс лесенки:

```php
App\Stairs::buildTo(6) // именованный конструктор, это обширная тема, почему именно так
    ->asString();      // получаем строковое представление, магия __toString() - это магия, поэтому - нет
```


## Задача 2: массивы
Нужно заполнить массив 5 на 7 случайными уникальными числами от 1 до 1000.  
Вывести получившийся массив и суммы по строкам и по столбцам.  

Пример работы решения:
```php
php show_array.php
```

Решение так же реализованно в виде объекта-значения `App\Matrix` и сервиса `App\RandomMatrixGenerator`.  
В матрице есть один неочевидный момент. Для подсчета сумм, используется транспонирование, элегантный способ построения
которого был получен со [stackoverflow](https://stackoverflow.com/questions/797251/transposing-multidimensional-arrays-in-php):
```php
    public function transpose(): self
    {
        // array_map zip arrays if callback is null
        return new self(array_map(null, ...$this->rows));
    }
```
это работает, потому что `array_map()` при пустом колбэке выполняет [`zip` над остальными аргументами](https://www.php.net/manual/en/function.array-map.php).  
Операция `zip` берет два списка и превращает их в один список пар. Или три списка в один список троек. И т.д.  
(Мне она знакома из начального курса хаскеля - да, я рисуюсь, это же тестовое задание))
  
